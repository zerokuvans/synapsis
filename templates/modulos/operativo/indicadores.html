{% extends "header.html" %}
{% block content %}
<style>
    .btn.disabled {
        opacity: 0.6;
        cursor: not-allowed;
        pointer-events: none;
    }
    .btn.disabled:hover {
        opacity: 0.6;
    }
    .card-indicador {
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        border: none;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .card-indicador:hover:not(.disabled) {
        transform: translateY(-5px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    .card-indicador.disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
    .icon-container {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
    }
    .breadcrumb {
        background-color: transparent;
        padding: 0;
    }
    .breadcrumb-item + .breadcrumb-item::before {
        content: ">";
        color: #6c757d;
    }
    .coming-soon {
        position: absolute;
        top: 10px;
        right: 10px;
        background: #ffc107;
        color: #000;
        padding: 4px 8px;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: bold;
    }
</style>

<div class="container mt-4">
    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="/operativo" class="text-decoration-none">
                    <i class="fas fa-tools me-1"></i>Panel Operativo
                </a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                <i class="fas fa-chart-line me-1"></i>Indicadores de Gestión
            </li>
        </ol>
    </nav>

    <!-- Header -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-warning text-dark">
                    <h3 class="mb-0">
                        <i class="fas fa-chart-line me-2"></i>Indicadores de Gestión
                    </h3>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        Selecciona el tipo de indicadores que deseas consultar. Actualmente solo están disponibles los indicadores de operaciones.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Indicadores Grid -->
    <div class="row">
        <!-- Indicadores de Logística -->
        <div class="col-lg-6 col-md-6 mb-4">
            <div class="card card-indicador h-100 disabled position-relative">
                <div class="coming-soon">Próximamente</div>
                <div class="card-body text-center p-4">
                    <div class="icon-container bg-primary bg-opacity-10">
                        <i class="fas fa-truck fa-2x text-primary"></i>
                    </div>
                    <h4 class="card-title text-primary mb-3">Indicadores de Logística</h4>
                    <p class="card-text text-muted mb-4">
                        Métricas de gestión logística, tiempos de entrega, eficiencia de rutas y control de inventarios.
                    </p>
                    <button class="btn btn-primary btn-lg disabled" disabled>
                        <i class="fas fa-chart-bar me-2"></i>Ver Indicadores
                    </button>
                </div>
            </div>
        </div>

        <!-- Indicadores de SST -->
        <div class="col-lg-6 col-md-6 mb-4">
            <div class="card card-indicador h-100 disabled position-relative">
                <div class="coming-soon">Próximamente</div>
                <div class="card-body text-center p-4">
                    <div class="icon-container bg-success bg-opacity-10">
                        <i class="fas fa-hard-hat fa-2x text-success"></i>
                    </div>
                    <h4 class="card-title text-success mb-3">Indicadores de SST</h4>
                    <p class="card-text text-muted mb-4">
                        Seguridad y Salud en el Trabajo, índices de accidentalidad, capacitaciones y cumplimiento normativo.
                    </p>
                    <button class="btn btn-success btn-lg disabled" disabled>
                        <i class="fas fa-shield-alt me-2"></i>Ver Indicadores
                    </button>
                </div>
            </div>
        </div>

        <!-- Indicadores de Calidad -->
        <div class="col-lg-6 col-md-6 mb-4">
            <div class="card card-indicador h-100 disabled position-relative">
                <div class="coming-soon">Próximamente</div>
                <div class="card-body text-center p-4">
                    <div class="icon-container bg-info bg-opacity-10">
                        <i class="fas fa-award fa-2x text-info"></i>
                    </div>
                    <h4 class="card-title text-info mb-3">Indicadores de Calidad</h4>
                    <p class="card-text text-muted mb-4">
                        Control de calidad, satisfacción del cliente, procesos de mejora continua y estándares de servicio.
                    </p>
                    <button class="btn btn-info btn-lg disabled" disabled>
                        <i class="fas fa-star me-2"></i>Ver Indicadores
                    </button>
                </div>
            </div>
        </div>

        <!-- Indicadores de Operaciones -->
        <div class="col-lg-6 col-md-6 mb-4">
            <div class="card card-indicador h-100">
                <div class="card-body text-center p-4">
                    <div class="icon-container bg-warning bg-opacity-10">
                        <i class="fas fa-cogs fa-2x text-warning"></i>
                    </div>
                    <h4 class="card-title text-warning mb-3">Indicadores de Operaciones</h4>
                    <p class="card-text text-muted mb-4">
                        Métricas operacionales, productividad, eficiencia de procesos y cumplimiento de objetivos.
                    </p>
                    {% if tiene_asistencia %}
                        <a href="/operativo/indicadores/operaciones" class="btn btn-warning btn-lg">
                            <i class="fas fa-chart-line me-2"></i>Ver Indicadores
                        </a>
                    {% else %}
                        <button class="btn btn-secondary btn-lg disabled" disabled title="Debe registrar asistencia primero">
                            <i class="fas fa-chart-line me-2"></i>Ver Indicadores
                        </button>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Información adicional -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="card border-0 bg-light">
                <div class="card-body">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h5 class="mb-2">
                                <i class="fas fa-lightbulb text-warning me-2"></i>
                                ¿Necesitas ayuda?
                            </h5>
                            <p class="mb-0 text-muted">
                                Los indicadores te permiten monitorear el desempeño y tomar decisiones basadas en datos. 
                                Cada módulo contiene métricas específicas para su área de gestión.
                            </p>
                        </div>
                        <div class="col-md-4 text-md-end">
                            <i class="fas fa-chart-pie fa-3x text-muted opacity-50"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Agregar efecto hover solo a las cards habilitadas
    const cards = document.querySelectorAll('.card-indicador:not(.disabled)');
    cards.forEach(card => {
        card.addEventListener('mouseenter', function() {
            this.style.cursor = 'pointer';
        });
    });
    
    // Prevenir clicks en cards deshabilitadas
    const disabledCards = document.querySelectorAll('.card-indicador.disabled');
    disabledCards.forEach(card => {
        card.addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
        });
    });
});
</script>

{% endblock %}